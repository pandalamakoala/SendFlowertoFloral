<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dijital Buketim</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
    <style>
        /* --- GENEL AYARLAR --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f0eb; /* Krem rengi minimalist zemin */
            margin: 0; padding: 0; height: 100vh;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            overflow: hidden;
            color: #333;
        }

        /* --- KONTROL PANELÄ° (Minimalist) --- */
        #creatorPanel {
            background: #fff;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            width: 90%; max-width: 360px;
            text-align: center;
            z-index: 1000;
        }

        h1 { font-family: 'Playfair Display', serif; margin: 0 0 5px 0; color: #2c3e50; }
        p { font-size: 13px; color: #7f8c8d; margin-bottom: 20px; }

        .control-group { margin-bottom: 15px; text-align: left; }
        label { font-size: 12px; font-weight: bold; color: #95a5a6; display: block; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }

        select, input, textarea {
            width: 100%; padding: 12px; border-radius: 8px;
            border: 1px solid #eee; background: #f9f9f9;
            font-family: inherit; outline: none; box-sizing: border-box;
            transition: 0.3s;
        }
        select:focus, textarea:focus { border-color: #333; background: #fff; }

        /* Renk SeÃ§imi (Yuvarlak Butonlar) */
        .color-options { display: flex; gap: 10px; justify-content: center; margin-top: 5px; }
        .color-btn {
            width: 30px; height: 30px; border-radius: 50%; border: 2px solid transparent; cursor: pointer;
            transition: transform 0.2s;
        }
        .color-btn.selected { border-color: #333; transform: scale(1.1); }

        button.main-btn {
            background: #2c3e50; color: white; width: 100%; padding: 15px;
            border: none; border-radius: 10px; font-weight: 600; cursor: pointer;
            margin-top: 10px; transition: 0.2s;
        }
        button.main-btn:hover { background: #34495e; transform: translateY(-2px); }

        /* --- SAHNE VE BUKET KAÄIDI --- */
        #sceneContainer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: none; align-items: center; justify-content: center;
            flex-direction: column;
            z-index: 500;
        }

        .bouquet-container {
            position: relative;
            width: 300px; height: 450px;
            display: flex; justify-content: center; align-items: flex-end;
            filter: drop-shadow(0 20px 30px rgba(0,0,0,0.15));
            animation: floatUp 1s ease-out;
        }

        /* BUKET KAÄIDI (CSS ile Ã‡izim) */
        .wrapper-back {
            position: absolute; bottom: 0;
            width: 200px; height: 300px;
            background-color: #d7ccc8; /* VarsayÄ±lan Kraft KaÄŸÄ±dÄ± */
            clip-path: polygon(20% 100%, 80% 100%, 100% 0, 0 0);
            z-index: 5;
        }

        .wrapper-front {
            position: absolute; bottom: -10px;
            width: 210px; height: 180px;
            background-color: #a1887f; /* Biraz daha koyu ton */
            clip-path: polygon(25% 100%, 75% 100%, 100% 0, 0 0);
            z-index: 20; /* Ã‡iÃ§eklerin Ã¶nÃ¼nde */
        }

        /* Ã‡Ä°Ã‡EKLER */
        .flowers-layer {
            position: absolute; bottom: 150px; /* KaÄŸÄ±dÄ±n iÃ§inden Ã§Ä±ksÄ±n */
            width: 250px; height: 250px;
            z-index: 10; /* KaÄŸÄ±tlarÄ±n arasÄ±nda */
            display: flex; flex-wrap: wrap; justify-content: center; align-items: flex-end;
        }

        .flower {
            font-size: 65px; line-height: 0.8;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-origin: bottom center;
            position: absolute;
        }

        /* KURDELE (Ribbon) */
        .ribbon {
            position: absolute; bottom: 80px; z-index: 25;
            width: 60px; height: 60px;
            background: #e91e63; border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .ribbon::before, .ribbon::after { /* Kurdele uÃ§larÄ± */
            content: ''; position: absolute; top: 30px;
            width: 20px; height: 80px; background: inherit;
            z-index: -1;
        }
        .ribbon::before { left: 10px; transform: rotate(20deg); }
        .ribbon::after { right: 10px; transform: rotate(-20deg); }

        /* NOT KARTI (Ãœstte SÃ¼zÃ¼len) */
        .note-tag {
            position: absolute; top: -80px; right: 0;
            background: white; padding: 15px 20px;
            border-radius: 2px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            font-family: 'Playfair Display', serif; font-size: 14px; color: #444;
            max-width: 150px; text-align: center;
            transform: rotate(5deg);
            z-index: 30;
            border-top: 3px solid #e91e63; /* Kurdele rengiyle uyumlu */
            display: none;
        }

        /* ALT PANEL (Link Butonu) */
        .bottom-actions {
            position: fixed; bottom: 30px; width: 100%; text-align: center;
            display: none; z-index: 1000;
        }
        .share-btn {
            background: #fff; color: #333; padding: 12px 30px;
            border-radius: 30px; text-decoration: none; font-weight: bold;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1); border: 1px solid #eee;
            cursor: pointer; display: inline-block;
        }

        @keyframes floatUp { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
</head>
<body>

    <div id="creatorPanel">
        <h1>Dijital Buket</h1>
        <p>Paketini seÃ§, Ã§iÃ§eÄŸini ekle, sevgini gÃ¶nder.</p>

        <div class="control-group">
            <label>Paket Rengi</label>
            <div class="color-options" id="paperColors">
                <div class="color-btn selected" style="background:#d7ccc8" onclick="setPaper('#d7ccc8', '#a1887f', this)"></div> <div class="color-btn" style="background:#ffcdd2" onclick="setPaper('#ffcdd2', '#e57373', this)"></div> <div class="color-btn" style="background:#bbdefb" onclick="setPaper('#bbdefb', '#64b5f6', this)"></div> <div class="color-btn" style="background:#212121" onclick="setPaper('#424242', '#212121', this)"></div> </div>
        </div>

        <div class="control-group">
            <label>Ã‡iÃ§ek TÃ¼rÃ¼</label>
            <select id="flowerType">
                <option value="tulip">Lale BahÃ§esi ğŸŒ·</option>
                <option value="rose">KÄ±rmÄ±zÄ± GÃ¼ller ğŸŒ¹</option>
                <option value="daisy">Papatyalar ğŸŒ¼</option>
                <option value="sunflower">AyÃ§iÃ§ekleri ğŸŒ»</option>
                <option value="mixed">KarÄ±ÅŸÄ±k Bahar ğŸ’</option>
            </select>
        </div>

        <div class="control-group">
            <label>Notunuz</label>
            <input type="text" id="userNote" placeholder="KÄ±sa bir not..." maxlength="50">
        </div>

        <button class="main-btn" onclick="createBouquet()">Buketi OluÅŸtur</button>
    </div>

    <div id="sceneContainer">
        
        <div class="bouquet-container">
            <div class="wrapper-back" id="wrapBack"></div>

            <div class="flowers-layer" id="flowersLayer"></div>

            <div class="wrapper-front" id="wrapFront"></div>

            <div class="ribbon"></div>

            <div class="note-tag" id="noteTag"></div>
        </div>

    </div>

    <div class="bottom-actions" id="actionArea">
        <button class="share-btn" onclick="copyLink()">Link Kopyala ğŸ”—</button>
        <div id="copyMsg" style="margin-top:10px; font-size:12px; color:#555; display:none;">KopyalandÄ±!</div>
    </div>

    <script>
        // Renk DeÄŸiÅŸkenleri
        let currentBack = '#d7ccc8';
        let currentFront = '#a1887f';

        function setPaper(backColor, frontColor, btn) {
            currentBack = backColor;
            currentFront = frontColor;
            
            // Buton seÃ§ili efekti
            document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }

        const flowerData = {
            'tulip': 'ğŸŒ·', 'rose': 'ğŸŒ¹', 'daisy': 'ğŸŒ¼',
            'sunflower': 'ğŸŒ»', 'mixed': 'ğŸŒ¸'
        };

        function buildFlowers(type) {
            const container = document.getElementById('flowersLayer');
            container.innerHTML = '';
            const icon = flowerData[type];
            
            // 12-15 arasÄ± Ã§iÃ§ek oluÅŸturup sÄ±kÄ±ÅŸÄ±k yerleÅŸtirelim
            for (let i = 0; i < 15; i++) {
                const el = document.createElement('div');
                el.classList.add('flower');
                el.innerText = icon;

                // KonumlandÄ±rma (Ters ÃœÃ§gen ÅŸeklinde dizeceÄŸiz)
                // Alt tarafta az, Ã¼stte Ã§ok
                const bottomOffset = (Math.floor(i / 5)) * 40; // SÄ±ra sÄ±ra yÃ¼ksel
                const leftOffset = (i % 5) * 40 - 80 + (Math.random() * 20); 

                el.style.bottom = (20 + bottomOffset + Math.random()*20) + 'px';
                el.style.left = (125 + leftOffset) + 'px'; // Merkezle
                el.style.transform = `translateX(-50%) rotate(${Math.random()*30 - 15}deg) scale(${0.8 + Math.random()*0.4})`;
                el.style.zIndex = i;

                container.appendChild(el);
            }
        }

        function createBouquet() {
            const flowerType = document.getElementById('flowerType').value;
            const note = document.getElementById('userNote').value;

            // Paneli Gizle
            document.getElementById('creatorPanel').style.display = 'none';
            const scene = document.getElementById('sceneContainer');
            scene.style.display = 'flex';

            // Renkleri Ata
            document.getElementById('wrapBack').style.backgroundColor = currentBack;
            document.getElementById('wrapFront').style.backgroundColor = currentFront;

            // Ã‡iÃ§ekleri Diz
            buildFlowers(flowerType);

            // Not Varsa GÃ¶ster
            if(note) {
                const tag = document.getElementById('noteTag');
                tag.style.display = 'block';
                tag.innerText = note;
            }

            // PaylaÅŸ Butonunu GÃ¶ster
            document.getElementById('actionArea').style.display = 'block';
        }

        function copyLink() {
            // Basit link yapÄ±sÄ± (Parametre ekleme bu versiyonda gÃ¶rsel odaklÄ± olduÄŸu iÃ§in sabit bÄ±rakÄ±yorum,
            // istenirse eklenebilir ama ÅŸu an estetiÄŸi test ediyoruz)
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                const msg = document.getElementById('copyMsg');
                msg.style.display = 'block';
                setTimeout(() => msg.style.display = 'none', 2000);
            });
        }
    </script>
</body>
</html>
