<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sana √ñzel √ái√ßekler</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&family=Lato:wght@300;400&display=swap" rel="stylesheet">

    <style>
        /* --- ESTETƒ∞K GENEL AYARLAR --- */
        body {
            font-family: 'Lato', sans-serif;
            background: #fdfbf7; /* Krem rengi kaƒüƒ±t dokusu hissi */
            background-image: radial-gradient(#e6e6e6 1px, transparent 1px);
            background-size: 20px 20px;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            color: #4a4a4a;
        }

        h1, h2 {
            font-family: 'Playfair Display', serif;
            color: #2d3436;
            font-weight: 700;
        }

        /* --- KONTROL PANELƒ∞ (CAM EFEKTƒ∞) --- */
        #creatorPanel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px); /* Buzlu cam efekti */
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.6);
            width: 90%;
            max-width: 380px;
            z-index: 100;
            text-align: center;
            transition: opacity 0.5s ease;
        }

        select, textarea {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border-radius: 12px;
            border: 1px solid #e1e1e1;
            background: #fff;
            font-family: 'Lato', sans-serif;
            font-size: 14px;
            box-sizing: border-box;
            outline: none;
            transition: border 0.3s;
        }

        select:focus, textarea:focus { border-color: #ff9a9e; }

        button {
            width: 100%;
            padding: 15px;
            margin-top: 10px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            letter-spacing: 1px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn-preview {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            color: #fff;
            box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);
        }

        .btn-link {
            background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(161, 140, 209, 0.4);
        }

        button:hover { transform: translateY(-2px); }

        /* --- BUKET ALANI --- */
        .bouquet-wrapper {
            position: relative;
            width: 350px;
            height: 550px;
            margin-top: 20px;
            display: none;
            animation: fadeIn 1.5s ease;
        }

        /* VAZO (Daha ger√ßek√ßi cam g√∂r√ºn√ºm√º) */
        .vase {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 140px;
            height: 200px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 0 0 50px 50px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-top: none;
            box-shadow: 
                inset 0 0 20px rgba(255, 255, 255, 0.5),
                0 10px 20px rgba(0,0,0,0.1);
            backdrop-filter: blur(3px);
            z-index: 20;
            overflow: hidden;
        }
        
        /* Vazonun i√ßindeki su efekti */
        .vase::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 70%;
            background: linear-gradient(to top, rgba(161, 196, 253, 0.3), rgba(194, 233, 251, 0.1));
            z-index: -1;
        }

        /* √áƒ∞√áEKLER (RESƒ∞M) */
        .flower-img {
            position: absolute;
            bottom: 140px; /* Vazonun i√ßine girsin */
            left: 50%;
            width: 140px; /* Dolgun boyut */
            height: auto;
            transform-origin: bottom center;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.15));
            transition: all 0.5s ease;
            opacity: 0; /* JS ile a√ßƒ±lacak */
            animation: bloom 0.8s forwards, sway 3s infinite alternate ease-in-out;
        }

        /* NOT KARTI (El yazƒ±sƒ± stili) */
        .note-card {
            background: #fff;
            padding: 20px 30px;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 320px;
            margin-top: -60px;
            position: relative;
            z-index: 30;
            display: none;
            border: 1px solid #eee;
            text-align: center;
            transform: rotate(-2deg); /* Hafif yamuk dursun, doƒüal olsun */
        }

        .note-text {
            font-family: 'Great Vibes', cursive;
            font-size: 28px;
            color: #d63384;
            line-height: 1.4;
        }

        #shareResult {
            display: none;
            margin-top: 15px;
            padding: 10px;
            background: #e8f5e9;
            color: #2e7d32;
            border-radius: 8px;
            font-size: 13px;
        }

        /* --- ANƒ∞MASYONLAR --- */
        @keyframes sway {
            0% { transform: translateX(-50%) rotate(var(--rot)) scale(1); }
            100% { transform: translateX(-50%) rotate(calc(var(--rot) + 5deg)) scale(1); }
        }

        @keyframes bloom {
            from { opacity: 0; transform: translateX(-50%) scale(0.1) translateY(50px); }
            to { opacity: 1; transform: translateX(-50%) rotate(var(--rot)) scale(var(--scale)); }
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    </style>
</head>
<body>

    <div id="creatorPanel">
        <h2>üíê Buket Tasarla</h2>
        <p style="font-size:14px; color:#888;">Burcunu se√ß, en estetik √ßi√ßekler senin i√ßin hazƒ±rlansƒ±n.</p>
        
        <select id="zodiacSelect">
            <option value="">Bir Bur√ß Se√ßiniz...</option>
            <option value="koc">Ko√ß (Kƒ±rmƒ±zƒ± Lale - Tutku)</option>
            <option value="boga">Boƒüa (Pembe G√ºl - Zarafet)</option>
            <option value="ikizler">ƒ∞kizler (Lavanta - Huzur)</option>
            <option value="yengec">Yenge√ß (Beyaz G√ºl - Masumiyet)</option>
            <option value="aslan">Aslan (Ay√ßi√ßeƒüi - I≈üƒ±ltƒ±)</option>
            <option value="basak">Ba≈üak (Papatya - Saf)</option>
            <option value="terazi">Terazi (Ortanca - Denge)</option>
            <option value="akrep">Akrep (Karanfil - Derinlik)</option>
            <option value="yay">Yay (Zambak - √ñzg√ºrl√ºk)</option>
            <option value="oglak">Oƒülak (≈ûakayƒ±k - Asalet)</option>
            <option value="kova">Kova (Orkide - Farklƒ±lƒ±k)</option>
            <option value="balik">Balƒ±k (Nil√ºfer - Hayal)</option>
        </select>
        
        <textarea id="userNote" placeholder="Sevdiklerine bir not bƒ±rak..." rows="3"></textarea>

        <button class="btn-preview" onclick="previewBouquet()">‚ú® Buketi G√∂ster</button>
        <button class="btn-link" onclick="createLink()">üîó Linki Kopyala & Payla≈ü</button>

        <div id="shareResult"></div>
    </div>

    <div class="bouquet-wrapper" id="bouquetWrapper">
        <div id="flowersContainer"></div>
        <div class="vase"></div>
    </div>

    <div class="note-card" id="displayNote">
        <div class="note-text" id="noteContent"></div>
    </div>

    <script>
        /* G√ñRSEL Lƒ∞NKLERƒ∞
           Bu linkler √ºcretsiz stok sitelerinden (Freepik/Flaticon/Pixabay vb.) 
           alƒ±nmƒ±≈ü temsili linklerdir. "Pinterest" havasƒ± i√ßin suluboya tarzƒ± se√ßilmi≈ütir.
        */
        const flowers = {
            'koc':    { url: 'https://cdn-icons-png.flaticon.com/512/740/740878.png', count: 7 }, // Lale
            'boga':   { url: 'https://cdn-icons-png.flaticon.com/512/1802/1802497.png', count: 9 }, // G√ºl
            'ikizler':{ url: 'https://cdn-icons-png.flaticon.com/512/5167/5167364.png', count: 12 }, // Lavanta/Kƒ±r √ßi√ßeƒüi
            'yengec': { url: 'https://cdn-icons-png.flaticon.com/512/2926/2926319.png', count: 8 }, // Beyaz √ái√ßek
            'aslan':  { url: 'https://cdn-icons-png.flaticon.com/512/1164/1164620.png', count: 6 }, // Ay√ßi√ßeƒüi
            'basak':  { url: 'https://cdn-icons-png.flaticon.com/512/3503/3503198.png', count: 14 }, // Papatya
            'terazi': { url: 'https://cdn-icons-png.flaticon.com/512/5110/5110429.png', count: 8 }, // Ortanca/Pembe
            'akrep':  { url: 'https://cdn-icons-png.flaticon.com/512/3063/3063167.png', count: 7 }, // Kƒ±rmƒ±zƒ±/Karanfil tarzƒ±
            'yay':    { url: 'https://cdn-icons-png.flaticon.com/512/5029/5029140.png', count: 8 }, // Zambak/Mor
            'oglak':  { url: 'https://cdn-icons-png.flaticon.com/512/4193/4193355.png', count: 8 }, // ≈ûakayƒ±k
            'kova':   { url: 'https://cdn-icons-png.flaticon.com/512/2855/2855146.png', count: 7 }, // Orkide
            'balik':  { url: 'https://cdn-icons-png.flaticon.com/512/2604/2604993.png', count: 9 }  // Nil√ºfer/Mavi
        };

        function drawFlowers(code) {
            const container = document.getElementById('flowersContainer');
            container.innerHTML = ''; 
            
            const data = flowers[code];
            if (!data) return;

            const wrapper = document.getElementById('bouquetWrapper');
            wrapper.style.display = 'block';

            // √ái√ßekleri Olu≈üturma D√∂ng√ºs√º
            for (let i = 0; i < data.count; i++) {
                const img = document.createElement('img');
                img.src = data.url;
                img.className = 'flower-img';
                
                // --- DOLGUNLUK ALGORƒ∞TMASI ---
                // Ortadan kenarlara doƒüru a√ßƒ±lan yelpaze
                const totalAngle = 100; // 100 derecelik bir yayƒ±lƒ±m
                const step = totalAngle / (data.count - 1);
                const currentAngle = -50 + (i * step); // -50 ile +50 arasƒ±
                
                // Biraz rastgelelik (Doƒüal durmasƒ± i√ßin)
                const randomRot = currentAngle + (Math.random() * 15 - 7.5);
                const randomScale = 0.7 + (Math.random() * 0.5); // Boyut farklarƒ±
                const zIndex = Math.floor(Math.abs(randomRot)); // Ortadakiler (0 derece) en arkada veya √∂nde

                // CSS deƒüi≈ükenlerine ata (Animasyon i√ßin)
                img.style.setProperty('--rot', randomRot + 'deg');
                img.style.setProperty('--scale', randomScale);
                img.style.zIndex = (i % 2 === 0) ? 5 : 10; // Karƒ±≈üƒ±k katmanlar
                
                // Hafif pozisyon sapmalarƒ±
                img.style.bottom = (120 + Math.random() * 60) + 'px';

                container.appendChild(img);
            }
        }

        function previewBouquet() {
            const val = document.getElementById('zodiacSelect').value;
            const note = document.getElementById('userNote').value;
            
            if(!val) { alert('L√ºtfen bir bur√ß se√ß!'); return; }
            
            drawFlowers(val);
            
            const noteDiv = document.getElementById('displayNote');
            const noteContent = document.getElementById('noteContent');
            
            if(note) {
                noteDiv.style.display = 'block';
                noteContent.innerText = `"${note}"`;
            } else {
                noteDiv.style.display = 'none';
            }
        }

        function createLink() {
            const val = document.getElementById('zodiacSelect').value;
            const note = document.getElementById('userNote').value;
            
            if(!val) { alert('L√ºtfen bir bur√ß se√ß!'); return; }

            const baseUrl = window.location.href.split('?')[0];
            const finalUrl = `${baseUrl}?send=${val}&msg=${encodeURIComponent(note)}`;

            navigator.clipboard.writeText(finalUrl).then(() => {
                const res = document.getElementById('shareResult');
                res.style.display = 'block';
                res.innerHTML = `<strong>Link Kopyalandƒ±!</strong><br>${finalUrl}`;
            });
        }

        // URL ile gelindiyse (Arkada≈üƒ±na attƒ±ƒüƒ±nda √ßalƒ±≈üacak kƒ±sƒ±m)
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const sendCode = params.get('send');
            const msg = params.get('msg');

            if (sendCode && flowers[sendCode]) {
                document.getElementById('creatorPanel').style.display = 'none'; // Paneli gizle
                drawFlowers(sendCode); // √ái√ßekleri a√ß
                
                if (msg) {
                    const noteDiv = document.getElementById('displayNote');
                    const noteContent = document.getElementById('noteContent');
                    noteDiv.style.display = 'block';
                    noteContent.innerText = `"${msg}"`;
                    
                    // Alƒ±cƒ±ya √∂zel efekt: Not kartƒ± biraz ge√ß gelsin
                    noteDiv.style.animation = "bloom 1s ease 1s forwards";
                    noteDiv.style.opacity = "0"; 
                }
            }
        };
    </script>
</body>
</html>
